package products;

import java.util.Scanner;

public class ProductMain {

	public static void main(String[] args) {

		Scanner sc=new Scanner(System.in);
		
		System.out.println("Enter number of products you'd like to enter this batch");
		int size=sc.nextInt();
		
		// creates array, not product object
		Product productList[]=new Product[size];
		//initialize Product Search
		ProductSearch productSearch=new ProductSearch();
		
		for (int i = 0; i < productList.length; i++) {
			System.out.println("Enter product details - "+(i+1));
			System.out.println("Enter product id");
			int pid=sc.nextInt();
			System.out.println("Enter product name");
			String pname=sc.next();
			System.out.println("Enter price");
			double price=sc.nextDouble();
			System.out.println("Enter rating");
			int rating = sc.nextInt();
			System.out.println("Enter manufacturer name");
			String manufacturerName = sc.next();
			
			productList[i] = new Product(pid, pname, price, rating, manufacturerName);
		};
		
		// to print products just entered
		ProductSearch.printProducts(productList);
		
		// initialize choice variable
		int ch=0;
		
		// search Products Menu Start
		do {
			System.out.println("Search Products Menu");
			System.out.println("-------------------------");
			System.out.println("1) By Id");
			System.out.println("2) By Name");
			System.out.println("3) By Price");
			System.out.println("4) By Rating");
			System.out.println("5) By Manufacturer Name");
			System.out.println("6) Exit");
			System.out.println("Enter Your Choice (1-6)");
			ch=sc.nextInt();
			
			switch (ch) {
			case 1: 
				System.out.println("Enter ID to search for product by ID");
				// user search ID
				int pid=sc.nextInt();
				
				//load search results into variable
				Product y=productSearch.getProductById(productList, pid);
				
				// check if result returned
				if(y==null) {
					System.out.println("Product with id "+pid+" not found");
				} else {
					// printing search results
					System.out.println("Product with id "+pid+" found, the details are");
					ProductSearch.printProduct(y);
				}				
				break;
			case 2:
				System.out.println("Enter name to search for product by name");
				
				// user search name
				String pname=sc.next();				
				
				// load search results into variable
				Product x=productSearch.getProductByName(productList, pname);
				
				// check if result returned
				if(x==null) {
					System.out.println("Product with name "+pname+" not found");
				} else {
					// printing search results
					System.out.println("Product with name "+pname+" found, the details are");
					ProductSearch.printProduct(x);
				}	
				
				break;
			case 3:
				System.out.println("Enter a price to search for product by price");

				// user search price
				int price=sc.nextInt();
				
				// load search results into variable
				Product z[]=productSearch.getProductsByPrice(productList, price);
				
				// check if result returned
				if(z==null) {
					System.out.println("Products with price "+price+" not found");
				} else {
					// printing search results
					System.out.println("Products with price "+price+" found, the details are");
					ProductSearch.printProducts(z);
				}	
				
				break;
			case 4:
				System.out.println("Enter Rating (1-5) to search for products by rating");
				
				// user search rating
				int rating=sc.nextInt();
				
				// load search results into variable
				Product q[]=ProductSearch.getProductsByRating(productList, rating);
				
				// check if results returned
				if(q==null) {
					System.out.println("No products found with a rating of "+rating);
				} else {
					// printing search results
					System.out.println("Printing products with a rating of "+rating);
					ProductSearch.printProducts(q);
				}
				break;
			case 5:
				System.out.println("Enter Manufacturer name to search products by that");
				
				// user search manufacturer
				String manufacturer=sc.next();
				
				// load search results into variable
				Product m[]=ProductSearch.getProductsByManufacturer(productList, manufacturer);
				
				// check if results returned
				if(m==null) {
					System.out.println("No products found manufactured by "+manufacturer);
				} else {
					// printing search results
					System.out.println("Printing products manufactured by "+manufacturer);
					ProductSearch.printProducts(m);
				}
				break;
			default: 
				System.out.println("Try another option");
				break;
			}
		}while(ch !=6);

		sc.close();
	}

}
